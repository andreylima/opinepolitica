(function(e){var t=function(){var t=this;var n=0;var r=false;var i=false;var s=false;var o=false;var u=0;var a=0;var f=false;t.settings={arrows:true,arrows_constraint:false,auto_flick:true,auto_flick_delay:25,block_text:true,dot_navigation:true,dot_alignment:"center",flick_animation:"transition-slide",flick_position:1,inner_width:false,theme:"light"};t.init=function(i,s){t.settings=e.extend(t.settings,s);r=i;r.addClass("flickerplate");r.find("ul:first").addClass("flicks");r.find("li:first").addClass("first-flick");n=t.settings.flick_position-1;$data_flick_position=r.data("flick-position");if($data_flick_position!=undefined){n=$data_flick_position-1}r.attr("data-flick-position",n);var o=r.data("flick-animation");t.settings.flick_animation=t.settings.flick_animation||o;r.addClass("animate-"+t.settings.flick_animation);var a=r.data("theme");var l=r.find(".first-flick").data("theme");if(a&&a.length>0){t.settings.theme=a;if(l&&l.length>0){r.addClass("flicker-theme-"+l)}else{r.addClass("flicker-theme-"+a)}}else{r.addClass("flicker-theme-"+t.settings.theme)}var c=r.data("block-text");if(c!=undefined){if(c==false){t.settings.block_text=false}}r.find("ul.flicks > li").each(function(){u++;e(this).wrapInner('<div class="flick-inner"><div class="flick-content"></div></div>');$flick_block_text=e(this).data("block-text");if($flick_block_text!=undefined){if($flick_block_text==true){e(this).find(".flick-title").wrapInner('<span class="flick-block-text"></span>');e(this).find(".flick-sub-text").wrapInner('<span class="flick-block-text"></span>')}}else if(t.settings.block_text==true){e(this).find(".flick-title").wrapInner('<span class="flick-block-text"></span>');e(this).find(".flick-sub-text").wrapInner('<span class="flick-block-text"></span>')}var n=e(this).data("background");if(n&&n.length>0){e(this).css("background-image","url("+n+")")}$flick_theme=e(this).data("theme");if($flick_theme&&$flick_theme.length>0){e(this).addClass("flick-theme-"+$flick_theme)}});if(t.settings.flick_animation!="scroller-slide"){$data_arrow_navigation=r.data("arrows");if($data_arrow_navigation!=undefined){if($data_arrow_navigation!=false){t.create_arrow_navigation()}}else if(t.settings.arrows==true){t.create_arrow_navigation()}$data_dot_navigation=r.data("dot-navigation");$data_dot_alignment=r.data("dot-alignment");var h=t.settings.dot_alignment;if($data_dot_alignment!=undefined){if($data_dot_alignment=="left"||$data_dot_alignment=="right"){h=$data_dot_alignment}}if($data_dot_navigation!=undefined){if($data_dot_navigation!=false){t.create_dot_navigation(h)}}else if(t.settings.dot_navigation==true){t.create_dot_navigation(h)}$flick_delay=t.settings.auto_flick_delay*1e3;$data_auto_flick=r.data("auto-flick");$data_auto_flick_delay=r.data("auto-flick-delay");if($data_auto_flick_delay){$flick_delay=$data_auto_flick_delay*1e3}if($data_auto_flick!=undefined){t.settings.auto_flick=$data_auto_flick!=false}t.auto_flick_start();t.flick_flicker();if(t.settings.flick_animation!="jquery-slide"){r.find("ul.flicks").bind("transitionend MSTransitionEnd webkitTransitionEnd oTransitionEnd",function(){f=false})}}t.move_flicker(n)};t.flick_flicker=function(){if(Modernizr.touch){r.on("drag",function(e){if(f==false){if(e.orientation=="horizontal"){e.preventDefault();if(e.direction==1){if(--n<0){n=0}else{f=true;t.move_flicker(n)}}else{if(++n==u){n=u-1}else{f=true;t.move_flicker(n)}}}}})}};t.create_arrow_navigation=function(){$arrow_nav_html='<div class="arrow-navigation left"><div class="arrow"></div></div>';$arrow_nav_html+='<div class="arrow-navigation right"><div class="arrow"></div></div>';r.prepend($arrow_nav_html);e(".arrow-navigation").mouseover(function(){e(this).toggleClass("hover")});e(".arrow-navigation").mouseout(function(){e(this).toggleClass("hover")});$data_arrows_constraint=r.data("arrows-constraint");if($data_arrows_constraint!=undefined){t.settings.arrows_constraint=$data_arrows_constraint}r.find(".arrow-navigation").on("click",function(){if(e(this).hasClass("right")){if(++n==u){n=t.settings.arrows_constraint?u-1:0}}else{if(--n<0){n=t.settings.arrows_constraint?0:u-1}}t.move_flicker(n)})};t.create_dot_navigation=function(n){$dot_nav_html='<div class="dot-navigation '+n+'"><ul>';while(a<u){a++;if(a==1){$dot_nav_html+='<li><div class="dot active"></div></li>'}else{$dot_nav_html+='<li><div class="dot"></div></li>'}}$dot_nav_html+="</ul></div>";r.prepend($dot_nav_html);r.find(".dot-navigation li").on("click",function(){t.move_flicker(e(this).index())})};t.auto_flick_start=function(){if(t.settings.auto_flick==true){t.flicker_auto=setInterval(t.auto_flick,$flick_delay)}};t.auto_flick=function(){if(++n==u){n=0}t.move_flicker(n)};t.auto_flick_stop=function(){t.flicker_auto=clearInterval(t.flicker_auto)};t.auto_flick_reset=function(){t.auto_flick_stop();t.auto_flick_start()};t.move_flicker=function(e){n=e;if(t.settings.flick_animation=="transform-slide"){r.find("ul.flicks").attr({style:"-webkit-transform:translate3d(-"+n+"%, 0, 0);-o-transform:translate3d(-"+n+"%, 0, 0);-moz-transform:translate3d(-"+n+"%, 0, 0);transform:translate3d(-"+n+"%, 0, 0)"})}else if(t.settings.flick_animation=="transition-slide"){r.find("ul.flicks").attr({style:"left:-"+n+"00%;"})}else if(t.settings.flick_animation=="jquery-slide"){r.find("ul.flicks").animate({left:"-"+n+"00%"},function(){f=false})}$crt_flick=r.find("ul.flicks li:eq("+n+")");r.removeClass("flicker-theme-light").removeClass("flicker-theme-dark");if($crt_flick.hasClass("flick-theme-dark")){r.addClass("flicker-theme-dark")}else if($crt_flick.hasClass("flick-theme-light")){r.addClass("flicker-theme-light")}else{r.addClass("flicker-theme-"+t.settings.theme)}r.find(".dot-navigation .dot.active").removeClass("active");r.find(".dot:eq("+n+")").addClass("active");r.attr("data-flick-position",n);t.auto_flick_reset()}};e.fn.flicker=function(n){var r=this.length;return this.each(function(i){var s=e(this),o="flickerplate"+(r>1?"-"+ ++i:""),u=(new t).init(s,n);s.data(o,u).data("key",o)})}})(jQuery)